{% extends 'shared/layout/base_with_image.html.twig' %}

{% block title %}Loc'Appart - Contact{% endblock %}

{% block style %}
    <link rel="stylesheet" href="{{ asset('ressources/bootstrap-select/css/bootstrap-select.css') }}">
{% endblock %}

{% block content %}
    <article class="s-12 l-8 center">
        <h2>Formulaire de contact</h2>
        <p class="subtitile_presentation">Utiliser le formulaire pour contacter un administrateur</p>

        {% for message in app.flashes('notice') %}
            <div class="alert alert-info" role="alert">
                {{ message }}
            </div>
        {% endfor %}

        {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}

        <div class="form-group form-custom">
            {{ form_label(form.email, null, {'label_attr': {'class': 'col-sm-4 control-label'}}) }}
            <div class="col-sm-8">
                {{ form_widget(form.email, {'attr': {'class': 'form-control', 'placeholder': 'Email'}}) }}
                {% if form_errors(form.email) %}
                    <div class="row">
                        <div class="error_form">
                            <span>{{ form_errors(form.email) }}</span>
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>

        <div class="form-group form-custom">
            {{ form_label(form.type, null, {'label_attr': {'class': 'col-sm-4 control-label'}}) }}
            <div class="col-sm-8">
                {{ form_widget(form.type, {'attr': {'class': 'selectpicker'}}) }}
                {% if form_errors(form.type) %}
                    <div class="row">
                        <div class="error_form">
                            <span>{{ form_errors(form.type) }}</span>
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>

        <div class="form-group form-custom">
            {{ form_label(form.subject, null, {'label_attr': {'class': 'col-sm-4 control-label'}}) }}
            <div class="col-sm-8">
                {{ form_widget(form.subject, {'attr': {'class': 'form-control', 'placeholder': 'Sujet'}}) }}
                {% if form_errors(form.subject) %}
                    <div class="row">
                        <div class="error_form">
                            <span>{{ form_errors(form.subject) }}</span>
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>

        <div class="form-group form-custom">
            {{ form_label(form.message, null, {'label_attr': {'class': 'col-sm-4 control-label'}}) }}
            <div class="col-sm-8">
                {{ form_widget(form.message, {'attr': {'class': 'form-control custom_area', 'rows' : '4', 'placeholder': 'Message'}}) }}
                {% if form_errors(form.message) %}
                    <div class="row">
                        <div class="error_form">
                            <span>{{ form_errors(form.message) }}</span>
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>

        {{ form_widget(form.save, {'attr': {'class': 'btn btn-primary btn-validate'}}) }}

        {{ form_rest(form) }}
        {{ form_end(form) }}
    </article>
{% endblock %}

{% block javascripts %}
    <script type="text/javascript" src="{{ asset('ressources/bootstrap-select/js/bootstrap-select.js') }}"></script>
    <script type="text/javascript" src="{{ asset('ressources/bootstrap-select/js/defaults-fr_FR.js') }}"></script>
{% endblock %}